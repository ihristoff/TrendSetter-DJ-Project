{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_filters %}


{% block content %}
<div class="center-form">
    <div class="main-container">
    <div class="profile-info">
        <h1>Profile Details</h1>

    </div>

    <div class="profile-info">
        <div class="profile-image">
            {% if object.profile_image %}
                <img src="{{ object.profile_image.url }}" class="profile-image" alt="profile_picture">
            {% else %}
                <img src="{% static 'images/anonymous-user.webp' %}" alt="default_profile_picture"
                     class="profile-image">
            {% endif %}
        </div>
        <div class="profile-details">
            {% if object.username %}
                <p>Username: {{ object.username }} </p>
            {% else %}
                <p>Regular user</p>
            {% endif %}
            {% if object.show_email %}
                <p>Email: {{ object.user }}</p>
            {% endif %}
            {% if object.trading_experience %}
                <p>Experience: {{ object.trading_experience }}</p>
            {% endif %}
            {% if object.location %}
                <p>Location: {{ object.location }}</p>
            {% endif %}
            {% if object.age %}
                <p>Age: {{ object.age }}</p>
            {% endif %}
            {% if object.bio %}
                <p>Bio: {{ object.bio }}</p>
            {% endif %}

            {% if request.user.comment_set.count %}
                <p>Comments {{ request.user.comment_set.count }}</p>
            {% endif %}

            {#My posts#}
            {#last login  previous login#}
            {#        followers and following#}

        </div>
        {% if object.user == request.user or user.is_staff %}
            </div>
            <div class="profile_control">
                <a href="{% url 'profile update' pk=request.user.pk %}" class="nav-link">Edit Profile</a>
                <a href="{% url 'profile delete' pk=request.user.pk %}" class="nav-link">Delete Profile</a>
                <a href="{% url 'profile change password' pk=request.user.pk %}" class="nav-link">Change Password</a>
            </div>
        {% endif %}
</div>
{% endblock %}






{##}
{#{% block content %}#}
{##}
{#    <div class="container">#}
{#    <form action = {% url 'profile details' pk=request.user.pk %} >#}
{#        <form action = {% url 'login' %}?next={{ next }}   method='post'         #}
{#        #}
{#        #}
{#            #}
{#         <div class="form-row">#}
{#             <div class="form-group col-md-4 mb-0">#}
{#                 {{ profile.user|as_crispy_field}}#}
{#                    <p>{{  object.user.email }}</p> #}
{#                 #}
{#                 <p>Date of birth: {{ object.date_of_birth|date:"Y-m-d"}}</p> #}
{#                 <p>Trading from: {{ object.trading_from }}</p> #}
{#            </div>#}
{#         #}
{#        TODO does not visualize ??! #}
{#     #}
{# #}
{#                #}
{#                 {% if object.date_of_birth %}#}
{#            <p>Date of birth: {{ object.date_of_birth|date:"Y-m-d" }}</p>#}
{#         {% else %}#}
{#                <p>Date of birth: Not provided</p>#}
{#         {% endif %}#}
{#             {% if object.profile_image %}#}
{#              <div class="form-group col-md-4 mb-0">#}
{#                  {{ profile.user.password2|as_crispy_field }}#}
{#                   <img width="100" class='profile-image' src='{{ object.profile_image  }}' alt='profile pic'/> #}
{#             </div>#}
{#             {% endif %}#}
{#         </div>#}
{#        {% csrf_token %}#}
{#        <a href="{% url 'delete profile' %}">Delete</a>#}
{#        or <a href="{% url 'update profile' %}">Update Profile</a>#}
{#    </form>#}
{#</div>#}
{#{% endblock %}#}
{##}
{##}